{% extends "layout.html" %}
//the pages in the sandbox use the _BASE.html layout, you can switch them to use the Search/Manage nav bar by using the _manage.html layout

{% block pageTitle %}
GOV.UK Prototype Kit
{% endblock %}

{% block content %}




<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <span class="govuk-caption-xl">NALD replacement, abstraction leg</span>
    <h1 class="govuk-heading-xl">
      Create a new licence
    </h1>



    <div id="id-preamble">
      <h2 class="govuk-heading-l govuk-!-margin-bottom-2 ">
        Identify the licence
      </h2>

      <div id="dates-section-preamble" class=" govuk-hint govuk-!-margin-bottom-2">
        Connect the new licence with the application, the holder and addresses
      </div>
    </div>




    <div class="govuk-form-group  govuk-form-group--error">
      <fieldset class="govuk-fieldset" role="group" aria-describedby="licence-number-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <h3 class="govuk-fieldset__heading">
            Licence number
          </h3>
        </legend>

        <div id="licence-number-hint" class="govuk-hint govuk-!-margin-bottom-2">
          For example, 20/56/22/0027
          <br>
          You must have this before starting to create a licence. 
          The licence number will be on the issuing letter received by the customer as well as on the licence.

          <!--<p>
            Preamble from NALD User Manual:<br>
            The entry of the data for the Licence should be straightforward. If there is missing mandatory data then something is wrong with the Licence! You should have a copy of the Licence that you are entering onto NALD with you!! [sic]
          </p>-->
        </div>

        <p id="passport-issued-error" class="govuk-error-message">
          <span class="govuk-visually-hidden">Error:</span> This licence number already exists. <a href="#" onclick="return false;" style="color: #d4351c">Go back</a> to make changes to an existing licence.
        </p>

        <input type="text" id="licence-number" name="licence-number" class="govuk-input--error govuk-input govuk-input--width-20" autocomplete="off" value="20/56/22/0027" />

      </fieldset>
    </div>
    <!-- end form group item -->


    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset" role="group" aria-describedby="licence-number-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <h3 class="govuk-fieldset__heading">
            Application number
          </h3>
        </legend>

        <div id="application-number-hint" class="govuk-hint govuk-!-margin-bottom-2">
          For example, NPW/WR/038046
          <br>
          The application number will be on the issuing documentation from the permitting team.

          

          <!--<p>
            Preamble from NALD User Manual:<br>
            The entry of the data for the Licence should be straightforward. If there is missing mandatory data then something is wrong with the Licence! You should have a copy of the Licence that you are entering onto NALD with you!! [sic]
          </p>-->
        </div>

        <input type="text" id="application-number" name="application-number" class="govuk-input govuk-input--width-20" autocomplete="off" />

      </fieldset>
    </div>
    <!-- end form group item -->












    <button type="submit" class="govuk-button" data-module="govuk-button">
      Save and continue
    </button>

    <div>
      <p class="govuk-hint">
        Saving will check the licence number and create a new licence if it does not already exist. The licence will remain in draft.
      </p>



    </div>




  </div><!-- end column div -->





  <div class="govuk-grid-column-one-third">
    
     <!-- end column -->
    
 
    <!--
    <h4>Steps</h4>

    <p>
      <ul>
        <li>Licence number</li>
        <li>Licence dates</li>
        <li class="govuk-!-margin-bottom-2">Notes</li>

        <li>Licence versions</li>
        <li>Licence type</li>
        <li class="govuk-!-margin-bottom-2">Licence holder</li>

        <li>Licence purposes</li>
          <ul class="govuk-!-margin-bottom-2">
            <li>Period</li>
            <li>Amounts</li>
            <li>Points</li>
            <li>Conditions</li>
            <li>Agreements</li>
          </ul>

        <li>Licence areas<br>
        <i>based on the point(s)</i></li>

      </ul>
   
    </p>
  -->

   

  </div><!-- end column -->
</div><!-- end row -->
  


<script>
   // Attach paste event listener to the document
  document.addEventListener('paste', parseDateInput);
  

  function parseDateInput() {
  // Get references to the day, month, and year input fields
  const dayInput = document.getElementById('signature-date-day');
  const monthInput = document.getElementById('signature-date-month');
  const yearInput = document.getElementById('signature-date-year');

  // Add an event listener to each input field
  dayInput.addEventListener('input', handleDateInput);
  monthInput.addEventListener('input', handleDateInput);
  yearInput.addEventListener('input', handleDateInput);

  function handleDateInput(event) {
    // Get the value from the input field that triggered the event
    const inputValue = event.target.value;

    // Check if the input value contains a slash, period, or hyphen
    //  - - - - - - - - - - - - - -  match(/[/\.-]/)
    const dateSeparator = inputValue.match(/[/. \-]/);
    if (dateSeparator) {
      // Split the input value into day, month, and year
      const dateparts = inputValue.split(dateSeparator);

      // Populate the correct input fields
      dayInput.value = dateparts[0];
      monthInput.value = dateparts[1];
      yearInput.value = dateparts[2];

    }
  }
  // Move focus to the year input field
    yearInput.focus();
}
</script>



{% endblock %}



